Heading 1 <Alt+Ctrl+1>Heading 2 <Alt+Ctrl+2>Heading 3 <Alt+Ctrl+3>Heading 4 <Alt+Ctrl+4>Heading 5 <Alt+Ctrl+5>Heading 6 <Alt+Ctrl+6>

# Puck 페이지 에디터 개선 구현 지시서

## 1. 블록 이름 라벨링 및 Outline 동기화 개선

**문제점:** 현재 에디터 우측 패널에서 블록 이름을 입력해도, 좌측 Outline 목록에는 기본 블록 유형(예: “텍스트”, “이미지”)만 표시되고 사용자 지정 이름이 반영되지 않습니다. 이는 블록 데이터 구조에 이름 필드가 Outline과 연동되지 않아서 발생합니다.

**구현 전략:**

* **블록 이름 필드 추가:** 각 블록 데이터에 `label` 또는 `title` 필드를 추가하고 사용자 입력을 저장합니다. 기존 `block.content`에 `name` 속성을 추가하여 블록별 이름을 저장할 수 있습니다[GitHub](https://github.com/shinjadong/care_on/blob/e131fba8fb5aa2d0d10f25b2fb1957b6ae375373/components/page-builder/puck-page-builder.tsx#L204-L213). 예를 들어 텍스트 블록의 content 구조에 `name`을 포함합니다.
* **Outline 표시 로직 수정:** Outline(블록 목록)을 렌더링할 때 블록의 타입 대신 위에서 추가한 이름 필드를 참조하도록 변경합니다. Puck 에디터 설정에서 각 컴포넌트의 `getItemSummary` 함수를 활용하여, 지정된 `props.name` 값이 있으면 우선 표시하고 없으면 기본 텍스트 미리보기나 유형을 표시하도록 합니다[GitHub](https://github.com/shinjadong/care_on/blob/e131fba8fb5aa2d0d10f25b2fb1957b6ae375373/components/page-builder/puck-config-enhanced.tsx#L64-L66)[GitHub](https://github.com/shinjadong/care_on/blob/e131fba8fb5aa2d0d10f25b2fb1957b6ae375373/components/page-builder/puck-config-enhanced.tsx#L14-L18).
  *예시:* Heading 컴포넌트 설정에서 `getItemSummary` 구현을 `return props.name || props.text?.slice(0, 20) || '제목';`처럼 변경하여 이름이 있을 경우 Outline에 그 이름이 나타나도록 합니다[GitHub](https://github.com/shinjadong/care_on/blob/e131fba8fb5aa2d0d10f25b2fb1957b6ae375373/components/page-builder/puck-config-enhanced.tsx#L64-L66). Text 컴포넌트도 유사하게 `props.name` 우선 표시[GitHub](https://github.com/shinjadong/care_on/blob/e131fba8fb5aa2d0d10f25b2fb1957b6ae375373/components/page-builder/puck-config-enhanced.tsx#L140-L143).
* **실시간 동기화:** 블록 이름 입력 필드(onChange) 변경 시 Puck의 내부 상태 데이터를 업데이트하여 Outline에 즉시 반영되도록 합니다. Puck 라이브러리에서는 컴포넌트 필드가 변경되면 `onChange` 이벤트로 `data`가 갱신되므로, `Puck` 컴포넌트의 `onChange` 핸들러에서 새로운 데이터를 받아 Outline이 재렌더링되도록 구현합니다[GitHub](https://github.com/shinjadong/care_on/blob/e131fba8fb5aa2d0d10f25b2fb1957b6ae375373/components/page-builder/puck-page-builder.tsx#L360-L368). 별도의 Outline 컴포넌트를 자체 구현했다면, 블록 이름 상태를 전역으로 관리하거나 Outline 컴포넌트에 props로 전달해 즉시 갱신되도록 처리합니다.
* **기본값 → 사용자값 전환:** 블록 생성 시에는 기본 이름(“텍스트”, “이미지” 등)을 부여하되, 사용자가 이름을 수정하면 해당 블록의 이름 필드를 갱신하여 Outline에 표시합니다. 이를 위해 블록 생성 시 `block.content.name`을 빈 문자열이나 기본값으로 초기화하고[GitHub](https://github.com/shinjadong/care_on/blob/e131fba8fb5aa2d0d10f25b2fb1957b6ae375373/components/page-builder/puck-page-builder.tsx#L206-L214)[GitHub](https://github.com/shinjadong/care_on/blob/e131fba8fb5aa2d0d10f25b2fb1957b6ae375373/components/page-builder/puck-page-builder.tsx#L217-L225), 이후 변경이 발생하면 Outline에 반영합니다. 예를 들어, 기본 “텍스트”로 표시되던 Outline 항목이 사용자가 `텍스트2 테스트`로 이름을 지정하면 즉시 Outline 항목 텍스트를 바꾸도록 합니다.

## 2. 슬라이더 컴포넌트 사용성 개선 (단위 표시 및 미세 조정)

**문제점:** 글꼴 크기, 자간, 행간 등을 조절하는 슬라이더 UI에서 현재 값에 단위가 표시되지 않고, 값 변화 단위(step)가 커서 세밀한 조정이 어렵습니다.

**구현 전략:**

* **단위 표시 추가:** 슬라이더 현재 값 옆에 단위를 표시합니다. 예를 들어 픽셀(px) 단위가 필요한 속성의 경우 슬라이더 값 뒤에 `'px'`를 붙여 보여줍니다. 기존 구현에서는 현재 값을 숫자만 보여주고 있으므로[GitHub](https://github.com/shinjadong/care_on/blob/e131fba8fb5aa2d0d10f25b2fb1957b6ae375373/components/page-builder/enhanced-puck-fields.tsx#L56-L64), 이를 `"${value}px"` 형태로 표시하도록 문자열 포매팅을 적용합니다. 툴팁이나 레이블에 단위를 포함하여 사용자가 직관적으로 인지하도록 합니다.
* **미세 조정용 Step 설정:** 조절하려는 속성별로 적절한 `step` 값을 설정합니다. 예를 들어:
  * **폰트 크기(FontSize):** 1px 단위 조정이 기본이지만, 더 정밀하게 0.5px 단위까지 허용할 수 있습니다. `SliderField` 컴포넌트 사용 시 `step={0.5}` 옵션을 추가합니다[GitHub](https://github.com/shinjadong/care_on/blob/e131fba8fb5aa2d0d10f25b2fb1957b6ae375373/components/page-builder/puck-config-enhanced.tsx#L30-L39).
  * **자간(LetterSpacing):** 0.1px처럼 매우 작은 단위로 조정할 수 있도록 `step={0.1}`로 설정합니다 (이미 `letterSpacing`의 경우 0.1 단위로 설정된 예[GitHub](https://github.com/shinjadong/care_on/blob/e131fba8fb5aa2d0d10f25b2fb1957b6ae375373/components/page-builder/puck-config.tsx#L48-L56) 참고).
  * **행간(LineHeight):** 현재 0.1 단위로 설정되어 있어 미세 조정이 가능하며 그대로 유지하거나 필요 시 0.05 단위 등으로도 세분화 가능합니다[GitHub](https://github.com/shinjadong/care_on/blob/e131fba8fb5aa2d0d10f25b2fb1957b6ae375373/components/page-builder/puck-config-enhanced.tsx#L111-L119).
* **Radix Slider 도입:** Shadcn/UI의 Radix Slider 컴포넌트를 활용해 슬라이더를 업그레이드합니다. Radix Slider는 키보드로 값 조정(←/→ 키로 step만큼 이동)과 현재 값 표시 등의 접근성을 지원합니다. 이를 도입하여:
  * **툴팁 표시:** 슬라이더 핸들을 드래그할 때 현재 값을 실시간으로 표시하는 툴팁을 Radix Slider의 `SliderThumb`에 추가합니다. 사용자가 정확한 값을 알기 쉽게 합니다.
  * **키보드 조작:** 슬라이더에 포커스가 있을 때 키보드 화살표로도 값 증감이 가능하도록 기본 기능을 활용합니다.
  * **스타일 및 단위:** Shadcn Slider를 사용하면서 위에서 언급한 단위 표기도 함께 적용합니다. 예를 들어, Slider 값 옆에 별도의 `<span>`으로 `'px'`를 붙이거나, 툴팁 내에 `'px'`를 포함시킵니다.
* **입력 필드 병행:** 매우 정확한 값 입력을 위해 슬라이더 옆에 숫자 입력 필드를 제공하는 것도 고려합니다. 작은 증분이 필요한 경우 사용자가 직접 수치를 입력할 수 있도록 하면 편의성이 올라갑니다. 다만 기본적으로 Slider의 step을 줄이고 키보드 지원을 하면 충분히 해결됩니다.

이렇게 슬라이더를 개선함으로써 사용자는 픽셀 단위 등을 명확히 인지하고, 작은 변화도 정밀하게 컨트롤할 수 있습니다. 예를 들어 폰트 크기 슬라이더의 경우 `현재 값: 16px`으로 표시되고 0.5px 단위로 움직여 세밀한 크기 조정이 가능해집니다[GitHub](https://github.com/shinjadong/care_on/blob/e131fba8fb5aa2d0d10f25b2fb1957b6ae375373/components/page-builder/enhanced-puck-fields.tsx#L56-L64).

## 3. 색상 선택 UI 추가

**문제점:** 텍스트 색상을 지정할 때 컬러 피커 UI가 제공되지 않아, 사용자가 직접 HEX 코드를 입력해야 하는 불편함이 있습니다.

**구현 전략:**

* **컬러 피커 컴포넌트 도입:** `react-color` 라이브러리의 **SketchPicker** 등을 사용해 컬러 피커 UI를 추가합니다[GitHub](https://github.com/shinjadong/care_on/blob/e131fba8fb5aa2d0d10f25b2fb1957b6ae375373/components/page-builder/enhanced-puck-fields.tsx#L8-L11). Shadcn/UI에 기본 컬러 피커가 없다면 `react-color`의 컴포넌트를 커스텀하여 사용하는 것이 좋습니다.
* **UI 배치:** 색상 입력 필드 옆에 현재 색상을 보여주는 작은 색상 **스와치(swatch)** 버튼을 배치합니다. 예를 들어, `<div className="w-8 h-8" style={{ backgroundColor: value }} onClick={ ... } />` 형태의 색상 미리보기 사각형을 표시합니다[GitHub](https://github.com/shinjadong/care_on/blob/e131fba8fb5aa2d0d10f25b2fb1957b6ae375373/components/page-builder/enhanced-puck-fields.tsx#L14-L22). 이 스와치를 클릭하면 컬러 피커 팝오버가 열리도록 구성합니다.
* **팝오버 동작:** 스와치를 클릭하면 `SketchPicker` 팝업을 표시하고, 팝업 외부를 클릭하면 닫히도록 구현합니다[GitHub](https://github.com/shinjadong/care_on/blob/e131fba8fb5aa2d0d10f25b2fb1957b6ae375373/components/page-builder/enhanced-puck-fields.tsx#L29-L38)[GitHub](https://github.com/shinjadong/care_on/blob/e131fba8fb5aa2d0d10f25b2fb1957b6ae375373/components/page-builder/enhanced-puck-fields.tsx#L32-L40). 이를 위해 상태값 `showPicker`로 피커 표시 여부를 관리하고, 픽커 외부 영역에 semi-transparent overlay를 두어 클릭 시 닫히게 합니다.
* **실시간 색상 적용:** 사용자가 픽커에서 색상을 선택할 때마다 HEX 코드를 바로 반영합니다. `SketchPicker`의 `onChange` 이벤트에서 선택된 색상의 `hex` 값을 받아 해당 블록의 색상 상태를 업데이트합니다[GitHub](https://github.com/shinjadong/care_on/blob/e131fba8fb5aa2d0d10f25b2fb1957b6ae375373/components/page-builder/enhanced-puck-fields.tsx#L36-L40). 예를 들어 `onChange={(color) => onChange(color.hex)}`와 같이 구현하면, 사용자가 컬러 팔레트에서 색을 고를 때마다 HEX 입력 필드와 미리보기 컴포넌트에 실시간 반영됩니다.
* **HEX 코드 입력 병행:** 기존처럼 HEX 코드를 직접 입력하는 필드도 유지하되, 이 필드와 컬러 피커가 서로 연동되도록 합니다. 즉, 사용자가 입력 필드에 `#ff0000` 등을 입력하면 피커의 선택 색상이 갱신되고 미리보기 스와치 색도 바뀌게 하고, 반대로 피커에서 색을 고르면 입력 필드 값이 변경되도록 합니다[GitHub](https://github.com/shinjadong/care_on/blob/e131fba8fb5aa2d0d10f25b2fb1957b6ae375373/components/page-builder/enhanced-puck-fields.tsx#L20-L27)[GitHub](https://github.com/shinjadong/care_on/blob/e131fba8fb5aa2d0d10f25b2fb1957b6ae375373/components/page-builder/enhanced-puck-fields.tsx#L36-L40).
* **색상값 저장:** 최종 선택된 색상 코드는 해당 블록의 설정에 저장됩니다. 예를 들어 텍스트 블록의 `block.content.color`에 HEX 문자열을 기록합니다[GitHub](https://github.com/shinjadong/care_on/blob/e131fba8fb5aa2d0d10f25b2fb1957b6ae375373/app/landing/edit/page.tsx#L43-L51). 이렇게 저장된 값은 에디터 재접속 시에도 적용되어야 합니다.
* **디자인 통일:** UI 일관성을 위해 Shadcn UI의 스타일 가이드에 맞춰 컬러 피커를 꾸밉니다. 예컨대 팝오버는 모서리가 둥근 흰색 카드형 배경에 그림자를 주어 다른 Shadcn 팝업 컴포넌트들과 어울리게 하고, 입력 필드는 작은 사이즈(`className="flex-1 px-2 py-1 text-sm border rounded"` 등)로 꾸며 전체 패널과 조화를 이룹니다[GitHub](https://github.com/shinjadong/care_on/blob/e131fba8fb5aa2d0d10f25b2fb1957b6ae375373/components/page-builder/enhanced-puck-fields.tsx#L20-L27).

이렇게 하면 사용자는 팔레트를 통해 손쉽게 색상을 선택할 수 있고, HEX 코드를 모르는 경우에도 직관적으로 색상 변경이 가능해집니다. 스와치와 입력 필드 병행 제공으로 숙련자와 비숙련자 모두 편리하게 사용할 수 있습니다.

## 4. 텍스트 정렬 옵션 즉시 반영 개선

**문제점:** 텍스트 정렬을 왼쪽/가운데/오른쪽으로 변경하는 옵션을 선택해도 에디터 미리보기 영역에 바로 반영되지 않거나, 반영이 늦어서 사용자가 변화를 즉각 확인하기 어렵습니다. 때로는 정렬 값이 저장은 되었지만 화면에 적용되지 않는 오류도 보고되었습니다.

**구현 전략:**

* **상태 즉시 업데이트:** 정렬 버튼(라디오 버튼이나 토글 버튼)을 클릭하면 해당 블록의 `textAlign` 상태를 즉시 업데이트해야 합니다. Puck 에디터 설정에서는 `textAlign` 필드를 radio 타입으로 정의하고 있으므로[GitHub](https://github.com/shinjadong/care_on/blob/e131fba8fb5aa2d0d10f25b2fb1957b6ae375373/components/page-builder/puck-config-enhanced.tsx#L44-L52), 사용자가 클릭 시 `props.textAlign`이 변경됩니다. 이 값 변경이 곧바로 미리보기 렌더링에 반영되도록, Puck의 `onChange` 핸들러를 통해 새로운 데이터를 받아 컴포넌트를 재렌더링합니다[GitHub](https://github.com/shinjadong/care_on/blob/e131fba8fb5aa2d0d10f25b2fb1957b6ae375373/components/page-builder/puck-page-builder.tsx#L360-L368). 현재 onChange에서 `setData(newData)`를 호출하고 있으므로, 이 메커니즘을 통해 실시간 적용을 확실히 합니다.
* **렌더링 로ジック 검토:** 블록을 렌더링할 때 정렬 옵션이 반영되는 방식을 점검합니다. 현재 구현을 보면, 텍스트/제목 블록은 인라인 스타일로 `style={{ textAlign: props.textAlign }}` 방식으로 정렬을 적용하고 있습니다[GitHub](https://github.com/shinjadong/care_on/blob/e131fba8fb5aa2d0d10f25b2fb1957b6ae375373/components/page-builder/puck-config-enhanced.tsx#L72-L79)[GitHub](https://github.com/shinjadong/care_on/blob/e131fba8fb5aa2d0d10f25b2fb1957b6ae375373/components/page-builder/puck-config-enhanced.tsx#L143-L150). 이 부분이 정상적으로 동작하지 않는다면, 해당 컴포넌트의 `render` 함수가 정렬 값 변경 시 제대로 다시 호출되는지 확인해야 합니다. Puck 라이브러리의 `getItemSummary`나 `render`가 state 변화에 따라 갱신되지 않는다면, `key` prop을 활용하거나 강제 리렌더 방법을 고려합니다.
* **Tailwind 클래스 사용 검토:** 인라인 스타일 대신 Tailwind CSS 클래스(`text-left`, `text-center`, `text-right`)를 사용하면 반영이 빠르고 일관성을 보장할 수 있습니다. 예컨대, 정렬 선택에 따라 상위 컨테이너나 해당 요소에 동적으로 Tailwind 클래스를 할당하는 방법입니다. `className={textAlign === 'center' ? 'text-center' : textAlign === 'right' ? 'text-right' : 'text-left'}` 처럼 구현하면 Tailwind JIT가 미리 클래스를 생성하여 적용하므로 스타일이 즉각 반영됩니다. 다만 이 경우 Tailwind 클래스가 빌드 시 포함되도록 safelist 설정이 필요할 수 있습니다. 현재 Puck 설정에서는 인라인 스타일로 처리를 하고 있으므로 우선 inline 방식으로 제대로 동작하도록 한 뒤, 필요하면 Tailwind 방식으로 리팩토링합니다.
* **상태 동기화 문제 해결:** 혹시 정렬 변경 후 바로 반영되지 않는 원인이 **상태 불일치**라면, 블록의 `content.textAlign`과 `settings.alignment` 사용을 통일해야 합니다. 예를 들어 일부 블록(버튼 등)은 정렬을 `block.content.alignment`에 저장하고, BlockRenderer에서 `settings.alignment`를 참조하고 있을 수 있습니다[GitHub](https://github.com/shinjadong/care_on/blob/e131fba8fb5aa2d0d10f25b2fb1957b6ae375373/components/page-builder/block-renderer.tsx#L100-L103). 이런 경우 한쪽 값만 바뀌면 화면에 반영되지 않을 수 있습니다. 해결책은 **하나의 소스**로 관리하는 것입니다. 텍스트와 제목 등의 정렬은 content의 textAlign만 사용하고, BlockRenderer에서도 content.textAlign을 참조하게 하거나, 반대로 settings에 넣어 일원화합니다. 코드 전체에서 일관되게 `textAlign`을 사용하는지 점검하고, 저장/로드 시에도 동일한 필드로 처리되도록 수정합니다.
* **즉시 미리보기 패널 업데이트:** 텍스트 편집 UI에서 정렬 버튼을 누르면 별도의 “저장”을 누르지 않아도 오른쪽 미리보기 패널(혹은 인라인 미리보기)에 바로 반영되도록 합니다[GitHub](https://github.com/shinjadong/care_on/blob/e131fba8fb5aa2d0d10f25b2fb1957b6ae375373/components/page-builder/blocks/text-block.tsx#L272-L281)[GitHub](https://github.com/shinjadong/care_on/blob/e131fba8fb5aa2d0d10f25b2fb1957b6ae375373/components/page-builder/blocks/text-block.tsx#L294-L302). 이미 구현된 미리보기 컴포넌트(`Preview` 부분)에서 `textData.textAlign` 값을 그대로 style에 반영하고 있으므로[GitHub](https://github.com/shinjadong/care_on/blob/e131fba8fb5aa2d0d10f25b2fb1957b6ae375373/components/page-builder/blocks/text-block.tsx#L298-L305), 정렬 상태 업데이트 후 이 preview 영역이 변경된 state를 참조하게 하면 됩니다. React의 state 관리로 이는 자동 처리되지만, 만약 미리보기 컴포넌트가 독립적인 경우 `key`나 `useEffect` 등을 이용해 강제로 갱신할 수도 있습니다.

결론적으로, 정렬 버튼 클릭 → state 업데이트 → 미리보기 재렌더 흐름을 확실히 함으로써 사용자 액션에 즉각 화면이 반응하도록 개선합니다. 이로써 예를 들어 “가운데 정렬” 버튼을 누르는 즉시 해당 블록의 텍스트가 중앙정렬되고, Outline 등에서도 필요시 반영되어 일관성있는 편집 경험을 제공합니다.

## 5. 이미지 / HTML / 버튼 블록 기능 보완

**문제점:** 이미지 블록, HTML 블록, 버튼 블록에서 편집 기능이 미흡합니다. 이미지 블록은 단순 삽입만 되고 크기 조절이나 대체 텍스트(alt) 입력, 정렬 등의 기능이 없으며, HTML 블록은 삽입해도 화면에 내용이 보이지 않는 문제가 있습니다. 버튼 블록은 기본 스타일만 있고 주변 여백 조절 기능이 없습니다.

**구현 전략:** 각 블록별로 아래와 같이 기능을 추가합니다.

* **이미지 블록 개선:**
  * **크기 조절:** 이미지의 Width와 Height를 사용자 지정할 수 있는 슬라이더 또는 입력 필드를 제공합니다. 폭은 %보다는 px 단위로 지정하도록 하되, `%`로도 입력 가능하게 할 수 있습니다. 간단히 구현하려면 px 단위 슬라이더로 가로폭을 조절하고 세로는 `auto`로 유지합니다. 예를 들어 `SliderField`를 이용해 너비를 100px \~ 1200px 범위에서 조절하게 합니다[GitHub](https://github.com/shinjadong/care_on/blob/e131fba8fb5aa2d0d10f25b2fb1957b6ae375373/components/page-builder/puck-config-enhanced.tsx#L320-L328). Height도 필요하다면 비율 유지 옵션과 함께 제공할 수 있지만, 우선 Width만으로도 대응 가능합니다. Width 값 변경 시 `<img>` 태그에 `style={{ width: \`\${width}px\`, height: 'auto' }}\`를 적용해 크기를 조절합니다[GitHub](https://github.com/shinjadong/care_on/blob/e131fba8fb5aa2d0d10f25b2fb1957b6ae375373/components/page-builder/puck-config-enhanced.tsx#L399-L407).
  * **ALT 텍스트 입력:** 업로드한 이미지에 대한 대체 텍스트를 입력할 수 있도록 필드를 추가합니다. Puck 설정의 Image 컴포넌트에 `alt: { type: "text", label: "설명 (ALT)" }` 필드를 추가하여 사용자로부터 ALT 문구를 받습니다[GitHub](https://github.com/shinjadong/care_on/blob/e131fba8fb5aa2d0d10f25b2fb1957b6ae375373/components/page-builder/puck-config-enhanced.tsx#L319-L327). 입력된 ALT는 이미지 태그에 `alt` 속성으로 넣어 웹 접근성을 향상시킵니다[GitHub](https://github.com/shinjadong/care_on/blob/e131fba8fb5aa2d0d10f25b2fb1957b6ae375373/components/page-builder/puck-config-enhanced.tsx#L399-L403).
  * **정렬 옵션:** 이미지 정렬(왼쪽, 가운데, 오른쪽)을 설정할 수 있게 합니다. 구현상으로는 이미지 자체를 블록 수준에서 감싸는 `<div>`에 `text-align` 스타일을 적용하여 내부 이미지가 좌/중/우 정렬되도록 합니다[GitHub](https://github.com/shinjadong/care_on/blob/e131fba8fb5aa2d0d10f25b2fb1957b6ae375373/components/page-builder/puck-config-enhanced.tsx#L392-L400). Puck 설정에서 `alignment` 필드를 radio 버튼으로 추가하고 옵션을 left/center/right로 제공합니다[GitHub](https://github.com/shinjadong/care_on/blob/e131fba8fb5aa2d0d10f25b2fb1957b6ae375373/components/page-builder/puck-config-enhanced.tsx#L327-L335). 선택한 정렬 값에 따라 렌더러에서 `<div style="text-align: center">...</div>`처럼 출력하고, 가운데 정렬인 경우 `<img>`에 `margin: 0 auto; display: block;`을 추가하여 완전 가운데 정렬되도록 합니다[GitHub](https://github.com/shinjadong/care_on/blob/e131fba8fb5aa2d0d10f25b2fb1957b6ae375373/components/page-builder/puck-config-enhanced.tsx#L402-L409). 왼쪽이나 오른쪽은 `margin`을 조정하여 구현합니다[GitHub](https://github.com/shinjadong/care_on/blob/e131fba8fb5aa2d0d10f25b2fb1957b6ae375373/components/page-builder/puck-config-enhanced.tsx#L402-L409).
  * **Object-Fit 옵션:** 이미지를 배경처럼 꽉 채우고자 하는 요구가 있다면 `object-fit` 설정을 제공할 수 있습니다. 간단 구현으로는 “배경 모드” 토글을 추가하여, 배경 모드가 true이면 해당 이미지를 `<div>`의 CSS `background-image`로 넣고 `background-size: cover`로 채우도록 합니다[GitHub](https://github.com/shinjadong/care_on/blob/e131fba8fb5aa2d0d10f25b2fb1957b6ae375373/components/page-builder/puck-config-enhanced.tsx#L366-L374). Puck 설정에서도 `isBackground` (boolean)와 `backgroundHeight`(숫자) 필드를 추가하여 사용자가 배경 모드를 켜면 일정 높이 영역에 배경으로 이미지를 넣는 식으로 구현할 수 있습니다[GitHub](https://github.com/shinjadong/care_on/blob/e131fba8fb5aa2d0d10f25b2fb1957b6ae375373/components/page-builder/puck-config-enhanced.tsx#L336-L344)[GitHub](https://github.com/shinjadong/care_on/blob/e131fba8fb5aa2d0d10f25b2fb1957b6ae375373/components/page-builder/puck-config-enhanced.tsx#L362-L371). 이렇게 하면 일반 이미지와 배경 이미지 두 가지 사용 케이스를 지원할 수 있습니다. 배경 모드일 때 ALT 텍스트는 화면에 반투명 텍스트로 표시하거나(`배경 이미지: alt내용`으로) 단순히 시각적인 표시만 하고, 실제로는 decorative한 배경이므로 ALT를 비워 접근성에 영향 없도록 할 수 있습니다[GitHub](https://github.com/shinjadong/care_on/blob/e131fba8fb5aa2d0d10f25b2fb1957b6ae375373/components/page-builder/puck-config-enhanced.tsx#L378-L387).
  * **기타 속성:** 향후 이미지에 대한 **캡션** 추가, **링크** 연결, **모서리 둥글기**(border-radius) 등의 옵션도 고려할 수 있습니다. 우선순위는 낮지만 디자인 시스템 관점에서 `tailwind-variants` 등을 사용해 이미지 스타일(둥근 모서리 등)을 일관 관리할 수도 있습니다.
* **HTML 블록 개선:**
  * **렌더링 구현:** HTML 블록은 사용자가 입력한 임의의 HTML 코드를 페이지에 삽입하는 기능입니다. 현재 문제는 **미작동**이므로, 입력된 HTML이 실제 DOM에 반영되지 않은 것으로 추정됩니다. 이를 해결하려면 **dangerouslySetInnerHTML**를 사용하여 해당 HTML 문자열을 렌더링해야 합니다[GitHub](https://github.com/shinjadong/care_on/blob/e131fba8fb5aa2d0d10f25b2fb1957b6ae375373/components/page-builder/puck-config-enhanced.tsx#L298-L304). 예컨대, `<div dangerouslySetInnerHTML={{ __html: html }} />` 형태로 블록을 렌더링하면, 문자열로 저장된 HTML이 실제 요소로 변환되어 보이게 됩니다[GitHub](https://github.com/shinjadong/care_on/blob/e131fba8fb5aa2d0d10f25b2fb1957b6ae375373/components/page-builder/puck-config-enhanced.tsx#L2-L5).
  * **보안 고려(sanitize):** 사용자가 입력하는 HTML에는 악성 스크립트나 부적절한 태그가 포함될 수 있습니다. 따라서 렌더링 전에 `sanitize-html` 라이브러리를 이용해 허용된 태그만 남기고 필터링합니다[GitHub](https://github.com/shinjadong/care_on/blob/e131fba8fb5aa2d0d10f25b2fb1957b6ae375373/components/page-builder/enhanced-puck-fields.tsx#L106-L114). 예를 들어 `onChange` 시점에 `sanitizeHtml(html, { allowedTags: [...], allowedAttributes: {...} })`를 호출하여 스크립트, iframe 등 위험한 태그를 제거하고 안전한 HTML만 저장합니다[GitHub](https://github.com/shinjadong/care_on/blob/e131fba8fb5aa2d0d10f25b2fb1957b6ae375373/components/page-builder/enhanced-puck-fields.tsx#L106-L114). 현재 코드에서도 SafeHtmlField 내에서 이러한 sanitize 로직을 구현하고 있으므로 참고하여 적용합니다[GitHub](https://github.com/shinjadong/care_on/blob/e131fba8fb5aa2d0d10f25b2fb1957b6ae375373/components/page-builder/enhanced-puck-fields.tsx#L106-L114).
  * **UI 개선:** HTML 코드를 입력할 수 있는 textarea를 제공하고, 바로 아래 미리보기를 보여주면 사용자가 결과를 즉시 확인할 수 있습니다[GitHub](https://github.com/shinjadong/care_on/blob/e131fba8fb5aa2d0d10f25b2fb1957b6ae375373/components/page-builder/enhanced-puck-fields.tsx#L144-L152). 예를 들어 “미리보기:” 레이블 아래 sanitize된 HTML을 `dangerouslySetInnerHTML`로 출력하여 실시간 프리뷰를 제공합니다[GitHub](https://github.com/shinjadong/care_on/blob/e131fba8fb5aa2d0d10f25b2fb1957b6ae375373/components/page-builder/enhanced-puck-fields.tsx#L146-L155). 이때 미리보기 영역에 별도 스타일(예: 연한 테두리와 배경)로 감싸서 편집 영역과 구분하고, 너무 긴 내용은 스크롤하도록 CSS를 적용하면 좋습니다.
  * **iframe 대안:** 만약 보안 상의 이유나 스타일 충돌 우려로 iframe을 사용하고자 한다면, `<iframe sandbox="allow-same-origin"></iframe>` 등을 활용해 샌드박스된 환경에 HTML을 주입할 수 있습니다. 그러나 이 방식은 구현이 복잡하고 스타일 공유가 어렵기에, **sanitize + dangerouslySetInnerHTML** 방식이 간단하고 충분합니다[GitHub](https://github.com/shinjadong/care_on/blob/e131fba8fb5aa2d0d10f25b2fb1957b6ae375373/components/page-builder/puck-config-enhanced.tsx#L298-L304). sanitize를 거친 상태라면 스크립트 태그도 제거되므로 대체로 안전합니다.
  * **저장/불러오기:** 페이지 저장 시 HTML 블록의 내용도 `block.content.html`에 그대로 문자열로 저장하고, 로드 시 그 값을 Puck 데이터로 다시 넣어야 합니다. 앞서 추가한 sanitize 과정에서 이미 안전한 문자열만 들어오므로, 불러온 후 곧바로 innerHTML로 사용해도 됩니다. 만약 추가로 Markdown 지원이 필요하면 Markdown 변환 옵션을 둘 수도 있지만, 현재는 순수 HTML 입력에 집중합니다.
* **버튼 블록 개선:**
  * **여백 조절:** 버튼 주변의 상하 여백(padding/margin)을 사용자 지정할 수 있도록 합니다. 현재 버튼 블록은 텍스트, 링크, 스타일(variant), 크기(size), 정렬만 지원하고 있습니다[GitHub](https://github.com/shinjadong/care_on/blob/e131fba8fb5aa2d0d10f25b2fb1957b6ae375373/components/page-builder/puck-page-builder.tsx#L229-L237). 여기에 **marginTop**, **marginBottom** 필드를 추가해 슬라이더로 값 설정이 가능하게 합니다. 예를 들어 Puck 설정의 ButtonComponent에 `marginTop`과 `marginBottom`을 custom 필드로 추가하고, 0px \~ 100px 범위의 슬라이더로 구현합니다[GitHub](https://github.com/shinjadong/care_on/blob/e131fba8fb5aa2d0d10f25b2fb1957b6ae375373/components/page-builder/puck-config-enhanced.tsx#L205-L214). 기본값은 0 혹은 20px 등으로 두고, 사용자가 조절하면 해당 값만큼 위/아래 공간을 확보하게 합니다[GitHub](https://github.com/shinjadong/care_on/blob/e131fba8fb5aa2d0d10f25b2fb1957b6ae375373/components/page-builder/puck-config-enhanced.tsx#L249-L257). 실제 적용은 버튼을 감싸는 컨테이너 `<div>`에 인라인 스타일로 `margin-top`/`margin-bottom`을 적용하거나, Tailwind 클래스로 생성합니다[GitHub](https://github.com/shinjadong/care_on/blob/e131fba8fb5aa2d0d10f25b2fb1957b6ae375373/components/page-builder/puck-config-enhanced.tsx#L26-L29). 예컨대 marginTop 값이 20이면 style="{{ marginTop: '20px' }}"로 처리하거나, Tailwind `mt-5` (만약 20px이 theme.spacing 단위 5라면) 클래스를 조건부 적용합니다.
  * **정렬 옵션:** 버튼 정렬은 이미 content에 `alignment` 속성으로 관리되고 있으나, UI 상에 조절이 용이하도록 Puck 설정에 radio 버튼으로 left/center/right 선택을 제공합니다[GitHub](https://github.com/shinjadong/care_on/blob/e131fba8fb5aa2d0d10f25b2fb1957b6ae375373/components/page-builder/puck-config-enhanced.tsx#L196-L204). 구현은 이미지 블록과 마찬가지로 상위 컨테이너에 `text-align` 스타일을 주어 버튼 링크(`<a>`) 요소를 좌/중/우 배치합니다[GitHub](https://github.com/shinjadong/care_on/blob/e131fba8fb5aa2d0d10f25b2fb1957b6ae375373/components/page-builder/puck-config-enhanced.tsx#L249-L257). 예를 들어 alignment가 center이면 `<div style="text-align:center">` 안에 버튼을 넣고, 좌우는 left 또는 right로 설정합니다. 이는 이미 일부 구현되어 있을 수 있으므로 (문제에서는 버튼 정렬 미흡 언급이 없었음), 없는 경우 추가하면 됩니다.
  * **크기/스타일 옵션 개선:** 현재 버튼 variant(기본/outline)와 size(small/default/large)에 따라 스타일이 정해져 있습니다[GitHub](https://github.com/shinjadong/care_on/blob/e131fba8fb5aa2d0d10f25b2fb1957b6ae375373/components/page-builder/puck-config-enhanced.tsx#L230-L239)[GitHub](https://github.com/shinjadong/care_on/blob/e131fba8fb5aa2d0d10f25b2fb1957b6ae375373/components/page-builder/puck-config-enhanced.tsx#L236-L244). 이 부분을 **tailwind-variants**를 이용해 리팩토링하면 디자인 시스템화에 도움이 됩니다. 예를 들어 `tv({ base: "inline-block rounded font-medium transition", variants: { variant: { default: "bg-blue-500 text-white", outline: "bg-transparent text-blue-500 border border-blue-500" }, size: { sm: "px-4 py-2 text-sm", lg: "px-6 py-3 text-lg" } } })` 형식으로 variant와 size 조합별 클래스를 정의해두면, 코드에서 `className={buttonStyles({ variant, size })}`로 쉽게 스타일 적용이 가능합니다. 초기 구현 단계에서는 급하지 않다면, 기존 inline style을 우선 Tailwind 클래스 문자열로 치환해둬도 좋습니다. 예를 들어 default 버튼은 Tailwind로 `bg-blue-500 text-white rounded px-3 py-2`, outline 버튼은 `bg-transparent text-blue-500 border border-blue-500 rounded px-3 py-2` 등으로 변환할 수 있습니다. 이렇게 하면 스타일 수정이 필요할 때 Tailwind config를 조정하거나 variants 정의만 바꾸면 되어 유지보수가 편해집니다.
  * **기타 개선:** 버튼에 아이콘 추가 옵션, 호버/눌림 스타일 커스터마이즈, 새 창 열림 여부(target\_blank) 등의 고급 설정도 고려할 수 있습니다. 그러나 우선 순위는 낮으므로, 기본 기능인 **링크 연결**과 **스타일 선택**, **크기 선택**, **정렬**, **여백** 등을 완성도 높게 구현한 후 추후 확장합니다.

以上의 개선들을 Next.js App Router 기반의 현재 프로젝트에 적용할 때, React 18+와 Tailwind를 활용하여 구성 요소를 모듈화합니다. Shadcn/UI의 Radix 컴포넌트들을 적극 활용해 일관된 UX를 제공하고, **sanitize-html**, **react-color** 등을 통합하여 편집기의 완성도를 높입니다. 이러한 기능 보완을 통해 Puck 페이지 에디터의 사용성이 직관적으로 향상되고, 추후 디자인 시스템으로 확장할 수 있는 기반을 마련할 수 있습니다[GitHub](https://github.com/shinjadong/care_on/blob/e131fba8fb5aa2d0d10f25b2fb1957b6ae375373/components/page-builder/puck-config-enhanced.tsx#L14-L22)[GitHub](https://github.com/shinjadong/care_on/blob/e131fba8fb5aa2d0d10f25b2fb1957b6ae375373/components/page-builder/puck-config-enhanced.tsx#L450-L458). 모든 수정은 우선 사용자 경험 개선에 초점을 맞추며, 이후 tailwind-variants 등을 통해 스타일 관리를 체계화하면 일관성과 유지보수성 또한 확보할 수 있습니다.

인용

[![GitHub]()puck-page-builder.tsxhttps://github.com/shinjadong/care\_on/blob/e131fba8fb5aa2d0d10f25b2fb1957b6ae375373/components/page-builder/puck-page-builder.tsx#L204-L213](https://github.com/shinjadong/care_on/blob/e131fba8fb5aa2d0d10f25b2fb1957b6ae375373/components/page-builder/puck-page-builder.tsx#L204-L213)[![GitHub]()puck-config-enhanced.tsxhttps://github.com/shinjadong/care\_on/blob/e131fba8fb5aa2d0d10f25b2fb1957b6ae375373/components/page-builder/puck-config-enhanced.tsx#L64-L66](https://github.com/shinjadong/care_on/blob/e131fba8fb5aa2d0d10f25b2fb1957b6ae375373/components/page-builder/puck-config-enhanced.tsx#L64-L66)[![GitHub]()puck-config-enhanced.tsxhttps://github.com/shinjadong/care\_on/blob/e131fba8fb5aa2d0d10f25b2fb1957b6ae375373/components/page-builder/puck-config-enhanced.tsx#L14-L18](https://github.com/shinjadong/care_on/blob/e131fba8fb5aa2d0d10f25b2fb1957b6ae375373/components/page-builder/puck-config-enhanced.tsx#L14-L18)[![GitHub]()puck-config-enhanced.tsxhttps://github.com/shinjadong/care\_on/blob/e131fba8fb5aa2d0d10f25b2fb1957b6ae375373/components/page-builder/puck-config-enhanced.tsx#L140-L143](https://github.com/shinjadong/care_on/blob/e131fba8fb5aa2d0d10f25b2fb1957b6ae375373/components/page-builder/puck-config-enhanced.tsx#L140-L143)[![GitHub]()puck-page-builder.tsxhttps://github.com/shinjadong/care\_on/blob/e131fba8fb5aa2d0d10f25b2fb1957b6ae375373/components/page-builder/puck-page-builder.tsx#L360-L368](https://github.com/shinjadong/care_on/blob/e131fba8fb5aa2d0d10f25b2fb1957b6ae375373/components/page-builder/puck-page-builder.tsx#L360-L368)[![GitHub]()puck-page-builder.tsxhttps://github.com/shinjadong/care\_on/blob/e131fba8fb5aa2d0d10f25b2fb1957b6ae375373/components/page-builder/puck-page-builder.tsx#L206-L214](https://github.com/shinjadong/care_on/blob/e131fba8fb5aa2d0d10f25b2fb1957b6ae375373/components/page-builder/puck-page-builder.tsx#L206-L214)[![GitHub]()puck-page-builder.tsxhttps://github.com/shinjadong/care\_on/blob/e131fba8fb5aa2d0d10f25b2fb1957b6ae375373/components/page-builder/puck-page-builder.tsx#L217-L225](https://github.com/shinjadong/care_on/blob/e131fba8fb5aa2d0d10f25b2fb1957b6ae375373/components/page-builder/puck-page-builder.tsx#L217-L225)[![GitHub]()enhanced-puck-fields.tsxhttps://github.com/shinjadong/care\_on/blob/e131fba8fb5aa2d0d10f25b2fb1957b6ae375373/components/page-builder/enhanced-puck-fields.tsx#L56-L64](https://github.com/shinjadong/care_on/blob/e131fba8fb5aa2d0d10f25b2fb1957b6ae375373/components/page-builder/enhanced-puck-fields.tsx#L56-L64)[![GitHub]()puck-config-enhanced.tsxhttps://github.com/shinjadong/care\_on/blob/e131fba8fb5aa2d0d10f25b2fb1957b6ae375373/components/page-builder/puck-config-enhanced.tsx#L30-L39](https://github.com/shinjadong/care_on/blob/e131fba8fb5aa2d0d10f25b2fb1957b6ae375373/components/page-builder/puck-config-enhanced.tsx#L30-L39)[![GitHub]()puck-config.tsxhttps://github.com/shinjadong/care\_on/blob/e131fba8fb5aa2d0d10f25b2fb1957b6ae375373/components/page-builder/puck-config.tsx#L48-L56](https://github.com/shinjadong/care_on/blob/e131fba8fb5aa2d0d10f25b2fb1957b6ae375373/components/page-builder/puck-config.tsx#L48-L56)[![GitHub]()puck-config-enhanced.tsxhttps://github.com/shinjadong/care\_on/blob/e131fba8fb5aa2d0d10f25b2fb1957b6ae375373/components/page-builder/puck-config-enhanced.tsx#L111-L119](https://github.com/shinjadong/care_on/blob/e131fba8fb5aa2d0d10f25b2fb1957b6ae375373/components/page-builder/puck-config-enhanced.tsx#L111-L119)[![GitHub]()enhanced-puck-fields.tsxhttps://github.com/shinjadong/care\_on/blob/e131fba8fb5aa2d0d10f25b2fb1957b6ae375373/components/page-builder/enhanced-puck-fields.tsx#L8-L11](https://github.com/shinjadong/care_on/blob/e131fba8fb5aa2d0d10f25b2fb1957b6ae375373/components/page-builder/enhanced-puck-fields.tsx#L8-L11)[![GitHub]()enhanced-puck-fields.tsxhttps://github.com/shinjadong/care\_on/blob/e131fba8fb5aa2d0d10f25b2fb1957b6ae375373/components/page-builder/enhanced-puck-fields.tsx#L14-L22](https://github.com/shinjadong/care_on/blob/e131fba8fb5aa2d0d10f25b2fb1957b6ae375373/components/page-builder/enhanced-puck-fields.tsx#L14-L22)[![GitHub]()enhanced-puck-fields.tsxhttps://github.com/shinjadong/care\_on/blob/e131fba8fb5aa2d0d10f25b2fb1957b6ae375373/components/page-builder/enhanced-puck-fields.tsx#L29-L38](https://github.com/shinjadong/care_on/blob/e131fba8fb5aa2d0d10f25b2fb1957b6ae375373/components/page-builder/enhanced-puck-fields.tsx#L29-L38)[![GitHub]()enhanced-puck-fields.tsxhttps://github.com/shinjadong/care\_on/blob/e131fba8fb5aa2d0d10f25b2fb1957b6ae375373/components/page-builder/enhanced-puck-fields.tsx#L32-L40](https://github.com/shinjadong/care_on/blob/e131fba8fb5aa2d0d10f25b2fb1957b6ae375373/components/page-builder/enhanced-puck-fields.tsx#L32-L40)[![GitHub]()enhanced-puck-fields.tsxhttps://github.com/shinjadong/care\_on/blob/e131fba8fb5aa2d0d10f25b2fb1957b6ae375373/components/page-builder/enhanced-puck-fields.tsx#L36-L40](https://github.com/shinjadong/care_on/blob/e131fba8fb5aa2d0d10f25b2fb1957b6ae375373/components/page-builder/enhanced-puck-fields.tsx#L36-L40)[![GitHub]()enhanced-puck-fields.tsxhttps://github.com/shinjadong/care\_on/blob/e131fba8fb5aa2d0d10f25b2fb1957b6ae375373/components/page-builder/enhanced-puck-fields.tsx#L20-L27](https://github.com/shinjadong/care_on/blob/e131fba8fb5aa2d0d10f25b2fb1957b6ae375373/components/page-builder/enhanced-puck-fields.tsx#L20-L27)[![GitHub]()page.tsxhttps://github.com/shinjadong/care\_on/blob/e131fba8fb5aa2d0d10f25b2fb1957b6ae375373/app/landing/edit/page.tsx#L43-L51](https://github.com/shinjadong/care_on/blob/e131fba8fb5aa2d0d10f25b2fb1957b6ae375373/app/landing/edit/page.tsx#L43-L51)[![GitHub]()puck-config-enhanced.tsxhttps://github.com/shinjadong/care\_on/blob/e131fba8fb5aa2d0d10f25b2fb1957b6ae375373/components/page-builder/puck-config-enhanced.tsx#L44-L52](https://github.com/shinjadong/care_on/blob/e131fba8fb5aa2d0d10f25b2fb1957b6ae375373/components/page-builder/puck-config-enhanced.tsx#L44-L52)[![GitHub]()puck-config-enhanced.tsxhttps://github.com/shinjadong/care\_on/blob/e131fba8fb5aa2d0d10f25b2fb1957b6ae375373/components/page-builder/puck-config-enhanced.tsx#L72-L79](https://github.com/shinjadong/care_on/blob/e131fba8fb5aa2d0d10f25b2fb1957b6ae375373/components/page-builder/puck-config-enhanced.tsx#L72-L79)[![GitHub]()puck-config-enhanced.tsxhttps://github.com/shinjadong/care\_on/blob/e131fba8fb5aa2d0d10f25b2fb1957b6ae375373/components/page-builder/puck-config-enhanced.tsx#L143-L150](https://github.com/shinjadong/care_on/blob/e131fba8fb5aa2d0d10f25b2fb1957b6ae375373/components/page-builder/puck-config-enhanced.tsx#L143-L150)[![GitHub]()block-renderer.tsxhttps://github.com/shinjadong/care\_on/blob/e131fba8fb5aa2d0d10f25b2fb1957b6ae375373/components/page-builder/block-renderer.tsx#L100-L103](https://github.com/shinjadong/care_on/blob/e131fba8fb5aa2d0d10f25b2fb1957b6ae375373/components/page-builder/block-renderer.tsx#L100-L103)[![GitHub]()text-block.tsxhttps://github.com/shinjadong/care\_on/blob/e131fba8fb5aa2d0d10f25b2fb1957b6ae375373/components/page-builder/blocks/text-block.tsx#L272-L281](https://github.com/shinjadong/care_on/blob/e131fba8fb5aa2d0d10f25b2fb1957b6ae375373/components/page-builder/blocks/text-block.tsx#L272-L281)[![GitHub]()text-block.tsxhttps://github.com/shinjadong/care\_on/blob/e131fba8fb5aa2d0d10f25b2fb1957b6ae375373/components/page-builder/blocks/text-block.tsx#L294-L302](https://github.com/shinjadong/care_on/blob/e131fba8fb5aa2d0d10f25b2fb1957b6ae375373/components/page-builder/blocks/text-block.tsx#L294-L302)[![GitHub]()text-block.tsxhttps://github.com/shinjadong/care\_on/blob/e131fba8fb5aa2d0d10f25b2fb1957b6ae375373/components/page-builder/blocks/text-block.tsx#L298-L305](https://github.com/shinjadong/care_on/blob/e131fba8fb5aa2d0d10f25b2fb1957b6ae375373/components/page-builder/blocks/text-block.tsx#L298-L305)[![GitHub]()puck-config-enhanced.tsxhttps://github.com/shinjadong/care\_on/blob/e131fba8fb5aa2d0d10f25b2fb1957b6ae375373/components/page-builder/puck-config-enhanced.tsx#L320-L328](https://github.com/shinjadong/care_on/blob/e131fba8fb5aa2d0d10f25b2fb1957b6ae375373/components/page-builder/puck-config-enhanced.tsx#L320-L328)[![GitHub]()puck-config-enhanced.tsxhttps://github.com/shinjadong/care\_on/blob/e131fba8fb5aa2d0d10f25b2fb1957b6ae375373/components/page-builder/puck-config-enhanced.tsx#L399-L407](https://github.com/shinjadong/care_on/blob/e131fba8fb5aa2d0d10f25b2fb1957b6ae375373/components/page-builder/puck-config-enhanced.tsx#L399-L407)[![GitHub]()puck-config-enhanced.tsxhttps://github.com/shinjadong/care\_on/blob/e131fba8fb5aa2d0d10f25b2fb1957b6ae375373/components/page-builder/puck-config-enhanced.tsx#L319-L327](https://github.com/shinjadong/care_on/blob/e131fba8fb5aa2d0d10f25b2fb1957b6ae375373/components/page-builder/puck-config-enhanced.tsx#L319-L327)[![GitHub]()puck-config-enhanced.tsxhttps://github.com/shinjadong/care\_on/blob/e131fba8fb5aa2d0d10f25b2fb1957b6ae375373/components/page-builder/puck-config-enhanced.tsx#L399-L403](https://github.com/shinjadong/care_on/blob/e131fba8fb5aa2d0d10f25b2fb1957b6ae375373/components/page-builder/puck-config-enhanced.tsx#L399-L403)[![GitHub]()puck-config-enhanced.tsxhttps://github.com/shinjadong/care\_on/blob/e131fba8fb5aa2d0d10f25b2fb1957b6ae375373/components/page-builder/puck-config-enhanced.tsx#L392-L400](https://github.com/shinjadong/care_on/blob/e131fba8fb5aa2d0d10f25b2fb1957b6ae375373/components/page-builder/puck-config-enhanced.tsx#L392-L400)[![GitHub]()puck-config-enhanced.tsxhttps://github.com/shinjadong/care\_on/blob/e131fba8fb5aa2d0d10f25b2fb1957b6ae375373/components/page-builder/puck-config-enhanced.tsx#L327-L335](https://github.com/shinjadong/care_on/blob/e131fba8fb5aa2d0d10f25b2fb1957b6ae375373/components/page-builder/puck-config-enhanced.tsx#L327-L335)[![GitHub]()puck-config-enhanced.tsxhttps://github.com/shinjadong/care\_on/blob/e131fba8fb5aa2d0d10f25b2fb1957b6ae375373/components/page-builder/puck-config-enhanced.tsx#L402-L409](https://github.com/shinjadong/care_on/blob/e131fba8fb5aa2d0d10f25b2fb1957b6ae375373/components/page-builder/puck-config-enhanced.tsx#L402-L409)[![GitHub]()puck-config-enhanced.tsxhttps://github.com/shinjadong/care\_on/blob/e131fba8fb5aa2d0d10f25b2fb1957b6ae375373/components/page-builder/puck-config-enhanced.tsx#L366-L374](https://github.com/shinjadong/care_on/blob/e131fba8fb5aa2d0d10f25b2fb1957b6ae375373/components/page-builder/puck-config-enhanced.tsx#L366-L374)[![GitHub]()puck-config-enhanced.tsxhttps://github.com/shinjadong/care\_on/blob/e131fba8fb5aa2d0d10f25b2fb1957b6ae375373/components/page-builder/puck-config-enhanced.tsx#L336-L344](https://github.com/shinjadong/care_on/blob/e131fba8fb5aa2d0d10f25b2fb1957b6ae375373/components/page-builder/puck-config-enhanced.tsx#L336-L344)[![GitHub]()puck-config-enhanced.tsxhttps://github.com/shinjadong/care\_on/blob/e131fba8fb5aa2d0d10f25b2fb1957b6ae375373/components/page-builder/puck-config-enhanced.tsx#L362-L371](https://github.com/shinjadong/care_on/blob/e131fba8fb5aa2d0d10f25b2fb1957b6ae375373/components/page-builder/puck-config-enhanced.tsx#L362-L371)[![GitHub]()puck-config-enhanced.tsxhttps://github.com/shinjadong/care\_on/blob/e131fba8fb5aa2d0d10f25b2fb1957b6ae375373/components/page-builder/puck-config-enhanced.tsx#L378-L387](https://github.com/shinjadong/care_on/blob/e131fba8fb5aa2d0d10f25b2fb1957b6ae375373/components/page-builder/puck-config-enhanced.tsx#L378-L387)[![GitHub]()puck-config-enhanced.tsxhttps://github.com/shinjadong/care\_on/blob/e131fba8fb5aa2d0d10f25b2fb1957b6ae375373/components/page-builder/puck-config-enhanced.tsx#L298-L304](https://github.com/shinjadong/care_on/blob/e131fba8fb5aa2d0d10f25b2fb1957b6ae375373/components/page-builder/puck-config-enhanced.tsx#L298-L304)[![GitHub]()puck-config-enhanced.tsxhttps://github.com/shinjadong/care\_on/blob/e131fba8fb5aa2d0d10f25b2fb1957b6ae375373/components/page-builder/puck-config-enhanced.tsx#L2-L5](https://github.com/shinjadong/care_on/blob/e131fba8fb5aa2d0d10f25b2fb1957b6ae375373/components/page-builder/puck-config-enhanced.tsx#L2-L5)[![GitHub]()enhanced-puck-fields.tsxhttps://github.com/shinjadong/care\_on/blob/e131fba8fb5aa2d0d10f25b2fb1957b6ae375373/components/page-builder/enhanced-puck-fields.tsx#L106-L114](https://github.com/shinjadong/care_on/blob/e131fba8fb5aa2d0d10f25b2fb1957b6ae375373/components/page-builder/enhanced-puck-fields.tsx#L106-L114)[![GitHub]()enhanced-puck-fields.tsxhttps://github.com/shinjadong/care\_on/blob/e131fba8fb5aa2d0d10f25b2fb1957b6ae375373/components/page-builder/enhanced-puck-fields.tsx#L144-L152](https://github.com/shinjadong/care_on/blob/e131fba8fb5aa2d0d10f25b2fb1957b6ae375373/components/page-builder/enhanced-puck-fields.tsx#L144-L152)[![GitHub]()enhanced-puck-fields.tsxhttps://github.com/shinjadong/care\_on/blob/e131fba8fb5aa2d0d10f25b2fb1957b6ae375373/components/page-builder/enhanced-puck-fields.tsx#L146-L155](https://github.com/shinjadong/care_on/blob/e131fba8fb5aa2d0d10f25b2fb1957b6ae375373/components/page-builder/enhanced-puck-fields.tsx#L146-L155)[![GitHub]()puck-page-builder.tsxhttps://github.com/shinjadong/care\_on/blob/e131fba8fb5aa2d0d10f25b2fb1957b6ae375373/components/page-builder/puck-page-builder.tsx#L229-L237](https://github.com/shinjadong/care_on/blob/e131fba8fb5aa2d0d10f25b2fb1957b6ae375373/components/page-builder/puck-page-builder.tsx#L229-L237)[![GitHub]()puck-config-enhanced.tsxhttps://github.com/shinjadong/care\_on/blob/e131fba8fb5aa2d0d10f25b2fb1957b6ae375373/components/page-builder/puck-config-enhanced.tsx#L205-L214](https://github.com/shinjadong/care_on/blob/e131fba8fb5aa2d0d10f25b2fb1957b6ae375373/components/page-builder/puck-config-enhanced.tsx#L205-L214)[![GitHub]()puck-config-enhanced.tsxhttps://github.com/shinjadong/care\_on/blob/e131fba8fb5aa2d0d10f25b2fb1957b6ae375373/components/page-builder/puck-config-enhanced.tsx#L249-L257](https://github.com/shinjadong/care_on/blob/e131fba8fb5aa2d0d10f25b2fb1957b6ae375373/components/page-builder/puck-config-enhanced.tsx#L249-L257)[![GitHub]()puck-config-enhanced.tsxhttps://github.com/shinjadong/care\_on/blob/e131fba8fb5aa2d0d10f25b2fb1957b6ae375373/components/page-builder/puck-config-enhanced.tsx#L26-L29](https://github.com/shinjadong/care_on/blob/e131fba8fb5aa2d0d10f25b2fb1957b6ae375373/components/page-builder/puck-config-enhanced.tsx#L26-L29)[![GitHub]()puck-config-enhanced.tsxhttps://github.com/shinjadong/care\_on/blob/e131fba8fb5aa2d0d10f25b2fb1957b6ae375373/components/page-builder/puck-config-enhanced.tsx#L196-L204](https://github.com/shinjadong/care_on/blob/e131fba8fb5aa2d0d10f25b2fb1957b6ae375373/components/page-builder/puck-config-enhanced.tsx#L196-L204)[![GitHub]()puck-config-enhanced.tsxhttps://github.com/shinjadong/care\_on/blob/e131fba8fb5aa2d0d10f25b2fb1957b6ae375373/components/page-builder/puck-config-enhanced.tsx#L230-L239](https://github.com/shinjadong/care_on/blob/e131fba8fb5aa2d0d10f25b2fb1957b6ae375373/components/page-builder/puck-config-enhanced.tsx#L230-L239)[![GitHub]()puck-config-enhanced.tsxhttps://github.com/shinjadong/care\_on/blob/e131fba8fb5aa2d0d10f25b2fb1957b6ae375373/components/page-builder/puck-config-enhanced.tsx#L236-L244](https://github.com/shinjadong/care_on/blob/e131fba8fb5aa2d0d10f25b2fb1957b6ae375373/components/page-builder/puck-config-enhanced.tsx#L236-L244)[![GitHub]()puck-config-enhanced.tsxhttps://github.com/shinjadong/care\_on/blob/e131fba8fb5aa2d0d10f25b2fb1957b6ae375373/components/page-builder/puck-config-enhanced.tsx#L14-L22](https://github.com/shinjadong/care_on/blob/e131fba8fb5aa2d0d10f25b2fb1957b6ae375373/components/page-builder/puck-config-enhanced.tsx#L14-L22)[![GitHub]()puck-config-enhanced.tsxhttps://github.com/shinjadong/care\_on/blob/e131fba8fb5aa2d0d10f25b2fb1957b6ae375373/components/page-builder/puck-config-enhanced.tsx#L450-L458](https://github.com/shinjadong/care_on/blob/e131fba8fb5aa2d0d10f25b2fb1957b6ae375373/components/page-builder/puck-config-enhanced.tsx#L450-L458)

모든 출처

[![](https://www.google.com/s2/favicons?domain=https://github.com&sz=32)](https://github.com/shinjadong/care_on/blob/e131fba8fb5aa2d0d10f25b2fb1957b6ae375373/components/page-builder/puck-page-builder.tsx#L204-L213)

# Puck 페이지 에디터 기능 개선 지시서

## 1. 사이드바 컴포넌트 커스터마이징 기능 추가

**요구사항:** Puck 에디터 좌측 사이드바에서 블록 이름을 사용자가 이해하기 쉽게 변경하고, 표시 순서를 조정할 수 있어야 합니다. 현재는 컴포넌트 키(key) 이름이 그대로 표시되고 기본 정렬로 나열되는데, 이를 개선합니다.

**구현 방법:**

* Puck Editor의 컴포넌트 설정에서 각 컴포넌트에 표시 이름(label)을 지정하는 필드를 추가합니다. Puck 컴포넌트 config에는 `label` 속성을 지원하므로 이를 활용하면 사이드바에 원하는 이름을 보여줄 수 있습니다 (설정하지 않으면 기본적으로 컴포넌트의 key가 사용됨)[puckeditor.com](https://puckeditor.com/docs/api-reference/configuration/component-config#:~:text=). 예를 들어 “Hero” 컴포넌트에 `label: '히어로 영역'`으로 설정하면 사이드바에 **히어로 영역**으로 표시됩니다.
* 사이드바에 나타나는 컴포넌트 목록의 순서는 Puck config에 등록된 순서대로가 되도록 조정합니다. Puck의 `categories` API를 사용하면 컴포넌트를 그룹화하며 순서를 제어할 수 있습니다[puckeditor.com](https://puckeditor.com/docs/integrating-puck/categories#:~:text=const%20config%20%3D%20,%2F%2F%20...). 모든 컴포넌트를 하나의 카테고리에 넣고 원하는 순서대로 나열하거나, 별도의 카테고리를 사용하지 않을 경우 config 객체에 정의된 **순서**를 유지하여 출력하도록 합니다. (현행 JS 객체도 정의 순서를 유지하므로, config 작성 시 순서를 의도대로 정리하면 반영될 수 있습니다.)
* 구현 시 컴포넌트 config 구조를 다음과 같이 변경/확인합니다:

  <pre class="overflow-visible!" data-start="829" data-end="1041"><div class="contain-inline-size rounded-2xl relative bg-token-sidebar-surface-primary"><div class="sticky top-9"><div class="absolute end-0 bottom-0 flex h-9 items-center pe-2"><div class="bg-token-bg-elevated-secondary text-token-text-secondary flex items-center gap-4 rounded-sm px-2 font-sans text-xs"></div></div></div><div class="overflow-y-auto p-4" dir="ltr"><code class="whitespace-pre! language-ts"><span><span>components</span><span>: {
    </span><span>Hero</span><span>: { </span><span>label</span><span>: </span><span>'히어로 영역'</span><span>, </span><span>/* ... 나머지 설정 */</span><span> },
    </span><span>Heading</span><span>: { </span><span>label</span><span>: </span><span>'타이틀 텍스트'</span><span>, </span><span>/* ... */</span><span> },
    </span><span>Text</span><span>: { </span><span>label</span><span>: </span><span>'단락 텍스트'</span><span>, </span><span>/* ... */</span><span> },
    </span><span>// ...</span><span>
  },
  </span><span>// (필요에 따라 categories 설정 추가)</span><span>
  </span></span></code></div></div></pre>

  위처럼 `components` 객체에 각 컴포넌트의 label을 지정하고, 해당 객체의 선언 순서대로 사이드바 목록을 렌더링하도록 Puck 설정을 조정합니다.

## 2. 텍스트 스타일 편집 UI 개선

**요구사항:** 텍스트 블록 편집 시 \*\*폰트 크기(px)\*\*를 현재는 수동으로 입력하고 있으나, 이를 슬라이더 또는 드롭다운으로 직관적으로 조절할 수 있어야 합니다. 또한 **텍스트 색상** 선택은 컬러 피커(UI 팔레트)를 통해 시각적으로 고를 수 있도록 개선해야 합니다.

**구현 방법:**

* **폰트 크기 조절:** `@radix-ui/react-slider` 또는 shadcn/ui의 Slider 컴포넌트를 활용하여 폰트 크기를 조절하는 UI를 제공합니다. 슬라이더의 범위는 예를 들어 12px부터 60px까지로 설정하고, step은 1px로 하여 세밀하게 조절할 수 있게 합니다. shadcn/ui Slider 사용 예시:

  <pre class="overflow-visible!" data-start="1520" data-end="1608"><div class="contain-inline-size rounded-2xl relative bg-token-sidebar-surface-primary"><div class="sticky top-9"><div class="absolute end-0 bottom-0 flex h-9 items-center pe-2"><div class="bg-token-bg-elevated-secondary text-token-text-secondary flex items-center gap-4 rounded-sm px-2 font-sans text-xs"></div></div></div><div class="overflow-y-auto p-4" dir="ltr"><code class="whitespace-pre! language-tsx"><span><span><</span><span>Slider</span><span> defaultValue={[</span><span>16</span><span>]} max={</span><span>60</span><span>} min={</span><span>12</span><span>} step={</span><span>1</span><span>} </span><span>/* ...props */</span><span> />
  </span></span></code></div></div></pre>

  (위 예시는 기본값 16, 최소 12, 최대 60인 슬라이더를 생성하는 코드로, 슬라이더를 이용해 해당 범위의 값을 선택합니다[ui.shadcn.com](https://ui.shadcn.com/docs/components/slider#:~:text=return%20%28%20,60%25%5D%22%2C%20className%29%7D%20%7B...props%7D%20%2F%3E).) 슬라이더를 움직이면 폰트 크기 값이 실시간으로 변경되어 `block.settings.fontSize`에 반영되고, 에디터 미리보기에도 즉각 적용됩니다.
* **텍스트 색상 선택:** 컬러 피커 라이브러리를 도입하여 사용자가 팔레트에서 텍스트 색상을 선택할 수 있게 합니다. 예를 들어 `react-color` 라이브러리의 SketchPicker 등을 사용할 수 있습니다. SketchPicker를 사용할 경우, 현재 색상을 state로 관리하고 `onChangeComplete` 이벤트에서 선택된 색상 값을 `block.settings.color`에 업데이트하도록 구현합니다. 사용 예시:

  <pre class="overflow-visible!" data-start="2056" data-end="2307"><div class="contain-inline-size rounded-2xl relative bg-token-sidebar-surface-primary"><div class="sticky top-9"><div class="absolute end-0 bottom-0 flex h-9 items-center pe-2"><div class="bg-token-bg-elevated-secondary text-token-text-secondary flex items-center gap-4 rounded-sm px-2 font-sans text-xs"></div></div></div><div class="overflow-y-auto p-4" dir="ltr"><code class="whitespace-pre! language-jsx"><span><span>import</span><span> { </span><span>SketchPicker</span><span> } </span><span>from</span><span> </span><span>'react-color'</span><span>;
  </span><span>// ...</span><span>
  </span><span>const</span><span> [color, setColor] = </span><span>useState</span><span>(</span><span>'#000000'</span><span>);
  </span><span>return</span><span> (
    </span><span><span class="language-xml"><SketchPicker</span></span><span> 
      </span><span>color</span><span>=</span><span>{color}</span><span> 
      </span><span>onChangeComplete</span><span>=</span><span>{(updatedColor)</span><span> => setColor(updatedColor.hex)} 
    />
  );
  </span></span></code></div></div></pre>

  (예시는 SketchPicker 컴포넌트를 통해 색상을 고르고 state에 hex 값을 저장하는 코드입니다[github.com](https://github.com/uiwjs/react-color#:~:text=function%20Demo%28%29%20,%7B%20setHex%28color.hex%29%3B).) shadcn/ui에는 기본 컬러 피커 컴포넌트가 없으므로, react-color와 같은 경량 라이브러리를 활용하거나 Color Picker를 자체 구현할 수 있습니다. 선택한 색상(hex 코드)은 `block.settings.color`에 저장하고, 해당 블록의 스타일에 즉시 적용되도록 합니다 (예: 인라인 스타일 `color: <선택색>` 혹은 Tailwind의 text-color 유틸리티 클래스 적용).
* **실시간 적용:** 폰트 크기 슬라이더와 색상 피커 모두 onChange 시점에 즉시 해당 스타일이 미리보기 텍스트에 적용되도록 하여, 사용자가 변화를 바로 확인할 수 있게 합니다. (Puck 에디터의 필드 값 변경은 자동으로 미리보기 컴포넌트에 전파되므로, 특별한 추가 저장 없이도 `block.settings` 바뀌면 반영될 것입니다.)

## 3. HTML 코드 블록 삽입 기능 복원

**요구사항:** 기존 클래식 에디터에서 제공되던 **HTML 블록** 기능을 Puck 기반 페이지 에디터에서도 사용할 수 있도록 복원해야 합니다. 사용자는 임의의 HTML 코드를 삽입하여 렌더링할 수 있어야 합니다.

**구현 방법:**

* **새 HTML 블록 타입 추가:** Puck의 `config.components`에 새로운 HTML 전용 블록을 추가합니다. 예를 들어 `RawHTMLBlock` 또는 `HtmlBlock` 등의 key로 컴포넌트를 등록합니다. 이 컴포넌트는 사용자가 임의의 HTML 코드를 입력할 수 있는 필드를 가져야 합니다. 구현 단계:
  * `fields` 설정에 HTML 코드를 입력받는 폼 필드를 추가합니다. 타입은 멀티라인 텍스트 입력이 가능하도록 `"textarea"`로 지정하고 라벨은 "HTML"로 표기합니다[stackoverflow.com](https://stackoverflow.com/questions/79691072/how-to-overrides-the-components-present-in-puck-editor-and-insert-a-new-one-from#:~:text=RawHTMLBlock%3A%20,HTML). 이렇게 하면 해당 블록을 사이드바에서 선택 시 HTML 코드를 편집할 수 있는 입력창이 제공됩니다.
  * 컴포넌트의 `render` 함수에서는 입력된 HTML 문자열을 실제 DOM에 주입하여 렌더링합니다. React에서는 보안상 일반적으로 JSX로 파싱되지 않은 HTML을 넣을 수 없으므로, `dangerouslySetInnerHTML` 속성을 사용해야 합니다[stackoverflow.com](https://stackoverflow.com/questions/79691072/how-to-overrides-the-components-present-in-puck-editor-and-insert-a-new-one-from#:~:text=export%20default%20function%20HTMLrender%28,). 예를 들어:

    <pre class="overflow-visible!" data-start="3577" data-end="3669"><div class="contain-inline-size rounded-2xl relative bg-token-sidebar-surface-primary"><div class="sticky top-9"><div class="absolute end-0 bottom-0 flex h-9 items-center pe-2"><div class="bg-token-bg-elevated-secondary text-token-text-secondary flex items-center gap-4 rounded-sm px-2 font-sans text-xs"></div></div></div><div class="overflow-y-auto p-4" dir="ltr"><code class="whitespace-pre! language-jsx"><span><span>render</span><span>: </span><span>({ html }</span><span>) => </span><span><span class="language-xml"><div</span></span><span> </span><span>dangerouslySetInnerHTML</span><span>=</span><span>{{</span><span> </span><span>__html:</span><span> </span><span>html</span><span> }} />
    </span></span></code></div></div></pre>

    로 구현하면 사용자가 입력한 HTML이 해당 div 내부에 실제 요소로 렌더됩니다.
* **에디터 UI 처리:** 새 HTML 블록을 추가한 후, 사용자가 에디터 사이드바에서 해당 블록을 선택하면 내용 입력을 위한 `<textarea>` 영역이 나타나도록 합니다. 사용자가 여기에 임베드 코드, iframe, 버튼 등의 HTML을 작성한 뒤 블록을 추가하면, 미리보기 영역에 해당 HTML이 그대로 표시됩니다. 이때 블록을 선택하지 않은 상태에서는 미리보기 화면에 일반 컴포넌트처럼 보이고, 편집 상태에서만 코드 편집기가 보이도록 UI를 구성합니다.
* **보안 고려:** `dangerouslySetInnerHTML`을 사용하는 경우 잠재적인 XSS 이슈가 있으므로, 삽입 전에 신뢰할 수 없는 스크립트나 태그를 제거하는 처리가 필요합니다. 서버 사이드에서 처리하거나, 빠른 구현을 위해 클라이언트 사이드에서 `sanitize-html` 같은 라이브러리를 사용할 수 있습니다. 예를 들어 `sanitizeHtml(dirtyHtmlString, options)` 형태로 허용된 태그만 남기도록 필터링할 수 있습니다[npmjs.com](https://www.npmjs.com/package/sanitize-html#:~:text=Use%20it%20in%20your%20JavaScript,app). 프로토타입 단계에서는 우선 동작에 초점을 맞추되, 추후 배포 전에는 반드시 안전한 리스트(allow-list) 기반으로 허용할 태그를 제한하고 스크립트 제거 등의 조치를 진행하세요.

## 4. 버튼 블록 정렬 및 여백 설정 기능 추가

**요구사항:** **버튼 블록**에 대해 내용 정렬(왼쪽/가운데/오른쪽)과 **padding/margin 여백 조절** 기능을 제공하여, 사용자가 버튼의 위치 정렬과 주변 공간을 자유롭게 조정할 수 있어야 합니다.

**구현 방법:**

* **정렬 옵션:** 버튼 블록 컴포넌트에 `alignment` 속성을 추가하고, 해당 값을 "left", "center", "right" 중 선택할 수 있도록 합니다. UI 상에서는 RadioGroup 혹은 SegmentedControl을 사용하여 **좌**, **중앙**, **우** 정렬을 선택하게 합니다. Puck의 필드 설정으로 보면 `type: 'radio'` 또는 `'select'`로 필드를 정의하고 옵션에 `{ label: 'Left', value: 'left' }` 등으로 세 가지 값을 제공하면 됩니다[GitHub](https://github.com/michiel/torque/blob/3707effdfe4b31d96d3c0c462a43d7cdf4597a9e/frontend/model-editor/src/components/VisualLayoutEditor/TorqueComponents/TorqueButton.tsx#L137-L143). 개발 예시:

  <pre class="overflow-visible!" data-start="4889" data-end="5116"><div class="contain-inline-size rounded-2xl relative bg-token-sidebar-surface-primary"><div class="sticky top-9"><div class="absolute end-0 bottom-0 flex h-9 items-center pe-2"><div class="bg-token-bg-elevated-secondary text-token-text-secondary flex items-center gap-4 rounded-sm px-2 font-sans text-xs"></div></div></div><div class="overflow-y-auto p-4" dir="ltr"><code class="whitespace-pre! language-ts"><span><span>alignment</span><span>: {
    </span><span>type</span><span>: </span><span>'radio'</span><span>,
    </span><span>label</span><span>: </span><span>'Button Alignment'</span><span>,
    </span><span>options</span><span>: [
      { </span><span>label</span><span>: </span><span>'Left'</span><span>, </span><span>value</span><span>: </span><span>'left'</span><span> },
      { </span><span>label</span><span>: </span><span>'Center'</span><span>, </span><span>value</span><span>: </span><span>'center'</span><span> },
      { </span><span>label</span><span>: </span><span>'Right'</span><span>, </span><span>value</span><span>: </span><span>'right'</span><span> }
    ]
  }
  </span></span></code></div></div></pre>

  선택된 alignment 값에 따라 버튼을 감싸는 컨테이너 요소에 Tailwind 정렬 클래스를 적용합니다. 만약 버튼이 단독으로 하나의 블록 요소라면 `text-left / text-center / text-right`를 적용하여 해당 요소 자체의 텍스트 정렬을 변경할 수 있고, 버튼이 flex 컨테이너 내에 있을 경우 부모에 `justify-start / justify-center / justify-end` 클래스를 적용해 버튼의 위치를 조정할 수 있습니다. Tailwind의 이러한 justify 유틸리티들은 flex 컨테이너에서 자식 아이템들을 좌측, 중앙, 우측 정렬해줍니다[geeksforgeeks.org](https://www.geeksforgeeks.org/css/tailwind-css-justify-content/#:~:text=justify,the%20end%20of%20the%20container)[geeksforgeeks.org](https://www.geeksforgeeks.org/css/tailwind-css-justify-content/#:~:text=justify,the%20center%20of%20the%20container). (구현 시 현재 버튼 블록의 DOM 구조에 맞게 적절한 방법을 선택하세요.)
* **여백(padding/margin) 설정:** 버튼 주위의 내부 여백(padding)과 바깥 여백(margin)을 조절하는 기능을 추가합니다. 이를 위해 버튼 블록에 `padding` 및 `margin` 속성을 숫자 또는 슬라이더로 입력받을 수 있게 합니다. 예를 들어 **Padding**과 **Margin**에 대해 0에서 50 사이의 값을 px 단위로 지정할 수 있는 슬라이더를 제공하고, 사용자가 값을 변경하면 해당 값을 Tailwind 클래스나 인라인 스타일로 적용합니다. Tailwind CSS를 활용하는 경우, 예를 들어 padding 값 16을 선택하면 `p-4`(기본 1단위=4px 가정) 클래스를, margin 값 8을 선택하면 `m-2` 등의 클래스를 적용하는 방식으로 매핑할 수 있습니다. 다만 Tailwind 클래스는 미리 정의된 값만 사용할 수 있으므로, 0–50px의 임의 값에 대응하려면 Tailwind 설정에 해당 픽셀 값들을 spacing 스케일에 추가하거나 safelist에 포함해야 합니다.
  빠른 구현을 위해서는 인라인 스타일로 `style={{ padding: value+'px' }}`를 적용하는 것도 가능합니다. 하지만 일관성을 위해 Tailwind 유틸리티를 선호한다면, 일반적인 범위의 px 값을 Tailwind 클래스 (예: `p-1`\~`p-12` 등)로 한정짓거나, 아니면 5px 단위 등으로 간격을 조절하는 식으로 타협할 수 있습니다.
* **적용 및 미리보기:** 사용자가 정렬이나 여백을 변경하면 즉시 미리보기 영역의 버튼 스타일이 업데이트되어야 합니다. 예를 들어 alignment를 Center로 바꾸면 미리보기에서 버튼이 즉시 가운데 정렬되고, margin/padding 값을 늘리면 버튼 주위 공간이 바로 늘어나야 합니다. 이를 위해 onChange 이벤트마다 `block.settings` 값을 업데이트하고, Puck이 rerender하도록 하면 실시간 반영됩니다. (Tailwind 클래스를 동적으로 적용하려면 Next.js의 컴파일 타임에 해당 클래스를 포함하거나 safelist를 설정해야 함을 유의하세요.)

## 5. 이미지 블록 편집 기능 추가

**요구사항:** 이미지 업로드 후 사용자가 **이미지 크기 조절**, **정렬**, **대체 텍스트(alt)** 입력, **배경으로 설정** 등의 기본 편집 기능을 사용할 수 있어야 합니다. 현재는 이미지 업로드만 되고 세부 편집이 어려울 수 있으므로, 이를 개선합니다.

**구현 방법:**

* **크기 조절:** 이미지 블록에 가로(width) 및 세로(height) 크기를 조절하는 UI를 추가합니다. 슬라이더 컴포넌트를 사용하여 % 또는 px 단위로 크기를 변경할 수 있게 하며, 최소 10% \~ 최대 100% 또는 원본 크기 범위 내에서 설정하도록 합니다. 예를 들어 `width: 50%`로 줄이면 `<img>` 요소에 인라인 스타일 `width:50%`를 적용하거나 Tailwind 클래스 `w-1/2`를 적용하는 식입니다. 정밀한 px 단위 조절을 원하면 슬라이더를 px 기준으로 하고, 선택 값을 style 속성에 반영합니다 (예: `style={{ width: value + 'px' }}`). 높이(height)도 유사하게 처리하되, 일반적으로 비율 유지를 위해 width만 조절하고 height는 auto로 두는 방식을 고려할 수 있습니다. 사용성 측면에서 **잠금 비율 유지**(aspect ratio lock) 옵션도 추가하여 원본 비율을 유지한 채 크기를 변경할지 선택할 수 있게 하면 더욱 좋습니다.
* **정렬:** 이미지의 정렬 옵션을 제공하여 이미지 블록을 좌/중앙/우 정렬할 수 있게 합니다. 구현은 버튼 블록의 정렬과 유사합니다. 이미지가 자체적으로 블록을 차지하고 있다면 부모 컨테이너에 `text-left/center/right` 클래스를 적용하거나, 이미지가 flex 컨테이너 안에 있다면 `justify-start/center/end`를 적용합니다. 사이드바 UI에서 “정렬” 항목을 추가하고, Left/Center/Right 중 하나를 선택하도록 합니다. 이렇게 하면 예를 들어 Center 선택 시 `<div class="text-center">` 안에 이미지가 렌더링되어 가운데 정렬되고, Right 선택 시 `text-right`로 우측 정렬됩니다.
* **대체 텍스트(Alt) 입력:** 업로드한 이미지에 대한 대체 텍스트를 입력할 수 있는 필드를 제공합니다. 사이드바에 “Alt 텍스트” 입력란을 추가하고, 여기에 작성된 내용은 `<img>` 태그의 `alt` 속성으로 넣습니다. 이는 접근성을 위해 필수이므로, alt 값이 없을 경우 빈 문자열이라도 들어가도록 처리합니다. Puck 필드 정의 예:

  <pre class="overflow-visible!" data-start="7921" data-end="8006"><div class="contain-inline-size rounded-2xl relative bg-token-sidebar-surface-primary"><div class="sticky top-9"><div class="absolute end-0 bottom-0 flex h-9 items-center pe-2"><div class="bg-token-bg-elevated-secondary text-token-text-secondary flex items-center gap-4 rounded-sm px-2 font-sans text-xs"></div></div></div><div class="overflow-y-auto p-4" dir="ltr"><code class="whitespace-pre! language-ts"><span><span>alt</span><span>: { </span><span>type</span><span>: </span><span>'text'</span><span>, </span><span>label</span><span>: </span><span>'Alt Text'</span><span>, </span><span>placeholder</span><span>: </span><span>'이미지 설명을 입력하세요'</span><span> }
  </span></span></code></div></div></pre>

  사용자가 입력한 alt 텍스트는 곧바로 이미지의 속성에 반영되어 미리보기에서도 개발자 도구 등을 통해 확인 가능하게 됩니다.
* **배경 이미지로 설정:** 이미지를 단독 요소로 삽입하는 것 외에, 해당 이미지를 섹션 배경으로 사용할 수 있는 기능을 추가합니다. 예를 들어 “배경으로 사용” 이라는 토글 스위치를 이미지 블록 설정에 넣습니다. 사용자가 이를 활성화하면, 이미지 블록의 렌더 방식을 `<img>` 태그가 아닌 배경을 가진 `<div>`로 변경하거나 별도의 스타일을 적용합니다. 구현 방법:

  * 배경모드가 활성화되면, `<div style={{ backgroundImage: 'url(<이미지 URL>)', backgroundSize: 'cover', backgroundPosition: 'center' }}>` 형태로 렌더링하도록 합니다. 이미지 자체는 CSS 배경으로 적용되고, 만약 그 위에 텍스트 등의 자식 콘텐츠를 추가로 배치할 수 있게 할 계획이라면 해당 블록을 컨테이너로 활용하면 됩니다.
  * 배경으로 설정된 경우 높이 조절이 중요합니다. 고정 높이 값을 필드로 받거나 (예: “배경 높이: 300px”), 아니면 부모 컨테이너의 높이에 100% 맞추도록 하는 등 레이아웃을 결정해야 합니다. 우선은 사용자 지정 높이 필드를 추가하여 px 단위로 높이를 설정할 수 있게 하는 방법이 직관적입니다.
  * 배경 이미지 특성상 alt 텍스트 개념은 적용되지 않으므로, alt 필드는 비활성화하거나 표시하지 않을 수 있습니다.
* **Next.js Image 컴포넌트 연계:** Next.js 15 환경이라 `next/image`를 사용할 수 있습니다. 가능하다면 이미지 블록에서 `<Image>` 컴포넌트를 사용하여 최적화된 이미지를 제공하고, 위에서 언급한 속성들 (width, height, alt 등)과 `style` 또는 `className`을 통해 정렬/여백을 적용합니다. Next/Image를 사용하면 레이지 로드나 자동 최적화 이점이 있으므로, 추후 이 방향으로 개선할 수 있습니다. 초기 구현에서는 일반 `<img>`로 시작해도 무방하며, 나중에 `<Image>`로 대체하면서 props 매핑만 맞추면 비교적 간단히 전환 가능합니다.

---

**비고:**
시스템 스택이 *Next.js 15*, *React 19*, *Tailwind CSS*, *TypeScript*이며 Puck 에디터와 shadcn/ui 컴포넌트를 사용하고 있으므로, 위 기능들은 해당 생태계에서 제공하는 컴포넌트와 API를 활용하여 구현할 수 있습니다. 예를 들어 Radix UI 기반의 슬라이더와 컬러 피커, Tailwind 유틸리티 클래스, Puck의 config 확장 기능 등을 적극 활용하세요. 보안 측면은 프로토타이핑 단계에서는 엄격히 다루지 않아도 되지만 (특히 HTML 블록 관련 기능은 내부 사용자용이라 가정), *XSS 방지 등 최소한의 조치*는 적용하는 것이 좋습니다. 각 기능 구현 후에는 에디터에서의 사용성(UX)을 충분히 테스트하여, 실시간 미리보기 반영이나 UI 동작에 문제가 없는지 확인하도록 합니다. 기능 구현이 완료되면 자동님께서 해당 개선사항을 확인하실 수 있도록 배포 일정을 공유하고, 추가 피드백을 반영해 나가시기 바랍니다.

인용

[![](https://www.google.com/s2/favicons?domain=https://puckeditor.com&sz=32)ComponentConfig | Puckhttps://puckeditor.com/docs/api-reference/configuration/component-config](https://puckeditor.com/docs/api-reference/configuration/component-config#:~:text=)[![](https://www.google.com/s2/favicons?domain=https://puckeditor.com&sz=32)Categories | Puckhttps://puckeditor.com/docs/integrating-puck/categories](https://puckeditor.com/docs/integrating-puck/categories#:~:text=const%20config%20%3D%20,%2F%2F%20...)[![](https://www.google.com/s2/favicons?domain=https://ui.shadcn.com&sz=32)Slider - shadcn/uihttps://ui.shadcn.com/docs/components/slider](https://ui.shadcn.com/docs/components/slider#:~:text=return%20%28%20,60%25%5D%22%2C%20className%29%7D%20%7B...props%7D%20%2F%3E)[![](https://www.google.com/s2/favicons?domain=https://github.com&sz=32)GitHub - uiwjs/react-color: Is a tiny color picker widget component for React apps.https://github.com/uiwjs/react-color](https://github.com/uiwjs/react-color#:~:text=function%20Demo%28%29%20,%7B%20setHex%28color.hex%29%3B)[![](https://www.google.com/s2/favicons?domain=https://stackoverflow.com&sz=32)javascript - how to overrides the components present in Puck editor and insert a new one from context - Stack Overflowhttps://stackoverflow.com/questions/79691072/how-to-overrides-the-components-present-in-puck-editor-and-insert-a-new-one-from](https://stackoverflow.com/questions/79691072/how-to-overrides-the-components-present-in-puck-editor-and-insert-a-new-one-from#:~:text=RawHTMLBlock%3A%20,HTML)[![](https://www.google.com/s2/favicons?domain=https://stackoverflow.com&sz=32)javascript - how to overrides the components present in Puck editor and insert a new one from context - Stack Overflowhttps://stackoverflow.com/questions/79691072/how-to-overrides-the-components-present-in-puck-editor-and-insert-a-new-one-from](https://stackoverflow.com/questions/79691072/how-to-overrides-the-components-present-in-puck-editor-and-insert-a-new-one-from#:~:text=export%20default%20function%20HTMLrender%28,)[![](https://www.google.com/s2/favicons?domain=https://www.npmjs.com&sz=32)sanitize-html - npmhttps://www.npmjs.com/package/sanitize-html](https://www.npmjs.com/package/sanitize-html#:~:text=Use%20it%20in%20your%20JavaScript,app)[![GitHub]()TorqueButton.tsxhttps://github.com/michiel/torque/blob/3707effdfe4b31d96d3c0c462a43d7cdf4597a9e/frontend/model-editor/src/components/VisualLayoutEditor/TorqueComponents/TorqueButton.tsx#L137-L143](https://github.com/michiel/torque/blob/3707effdfe4b31d96d3c0c462a43d7cdf4597a9e/frontend/model-editor/src/components/VisualLayoutEditor/TorqueComponents/TorqueButton.tsx#L137-L143)[![](https://www.google.com/s2/favicons?domain=https://www.geeksforgeeks.org&sz=32)Tailwind CSS Justify Content - GeeksforGeekshttps://www.geeksforgeeks.org/css/tailwind-css-justify-content/](https://www.geeksforgeeks.org/css/tailwind-css-justify-content/#:~:text=justify,the%20end%20of%20the%20container)[![](https://www.google.com/s2/favicons?domain=https://www.geeksforgeeks.org&sz=32)Tailwind CSS Justify Content - GeeksforGeekshttps://www.geeksforgeeks.org/css/tailwind-css-justify-content/](https://www.geeksforgeeks.org/css/tailwind-css-justify-content/#:~:text=justify,the%20center%20of%20the%20container)

모든 출처

[![](https://www.google.com/s2/favicons?domain=https://puckeditor.com&sz=32)puckeditor](https://puckeditor.com/docs/api-reference/configuration/component-config#:~:text=)[![](https://www.google.com/s2/favicons?domain=https://ui.shadcn.com&sz=32)ui.shadcn](https://ui.shadcn.com/docs/components/slider#:~:text=return%20%28%20,60%25%5D%22%2C%20className%29%7D%20%7B...props%7D%20%2F%3E)[![](https://www.google.com/s2/favicons?domain=https://github.com&sz=32)github](https://github.com/uiwjs/react-color#:~:text=function%20Demo%28%29%20,%7B%20setHex%28color.hex%29%3B)[![](https://www.google.com/s2/favicons?domain=https://stackoverflow.com&sz=32)stackoverflow](https://stackoverflow.com/questions/79691072/how-to-overrides-the-components-present-in-puck-editor-and-insert-a-new-one-from#:~:text=RawHTMLBlock%3A%20,HTML)[![](https://www.google.com/s2/favicons?domain=https://www.npmjs.com&sz=32)npmjs](https://www.npmjs.com/package/sanitize-html#:~:text=Use%20it%20in%20your%20JavaScript,app)[![](https://www.google.com/s2/favicons?domain=https://www.geeksforgeeks.org&sz=32)geeksforgeeks](https://www.geeksforgeeks.org/css/tailwind-css-justify-content/#:~:text=justify,the%20end%20of%20the%20container)

확인 감사합니다 자동님! 현재 다음 항목들이 미구현된 상태임을 반영하여, 클로드코드에게 전달할 명확한 지시서를 작성하겠습니다:

* 블록 사이드바 이름/순서 변경 기능 없음
* 텍스트 스타일 설정 UI 개선 미구현 (슬라이더/컬러피커 없음)
* HTML 삽입 및 버튼/이미지 편집 관련 클래식 기능 미반영

이 항목들을 중심으로 즉시 구현이 필요한 개선 지시서를 준비하겠습니다.

[ ]

WYSIWYG <Alt+Ctrl+7>Instant Rendering <Alt+Ctrl+8>Split View <Alt+Ctrl+9>

Outline

DesktopTabletMobile/Wechat
